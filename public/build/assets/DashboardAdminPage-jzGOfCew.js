import{j as e,y as l,d,r as h,W as u,a as b}from"./app-B-rZBD87.js";import{A as g}from"./AuthenticatedLayout-vVCfYaR3.js";import{P as p}from"./Paginator-D8d3uPJN.js";import"./Navbar-BpKXBSnJ.js";function N({data:a}){console.log(a);const n=t=>{console.log("Data : ",t);const r=route("pembatalanpinjam",t);l.delete(r)},s=t=>{const r=route("konfirmasipinjam",t);l.post(r)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"text-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Author"}),e.jsx("th",{children:"ISBN"}),e.jsx("th",{children:"Peminjam"}),e.jsx("th",{rowSpan:"2",className:"text-center",children:"Action"})]})}),e.jsx("tbody",{children:a.map((t,r)=>e.jsxs("tr",{children:[e.jsxs("th",{children:[" ",r+1," "]}),e.jsx("td",{children:t.title}),e.jsx("td",{children:t.author}),e.jsx("td",{children:t.isbn}),e.jsx("td",{children:t.peminjam}),e.jsxs("td",{className:"text-center",children:[e.jsx("button",{type:"submit",className:"btn btn-sm mx-1 btn-error text-white",onClick:()=>n(t.id),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-sm mx-1 btn-primary text-white",onClick:()=>s(t.id),children:"Confirm"})]})]},r+3294823))})]})})})}function f({data:a}){const n=s=>{const t=route("konfirmasipengembalian",s);axios.post(t).then(r=>{window.location.reload(!0)}).catch(r=>{console.log("Error : ",r)})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"text-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Author"}),e.jsx("th",{children:"ISBN"}),e.jsx("th",{children:"Peminjam"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:a.map((s,t)=>e.jsxs("tr",{children:[e.jsxs("th",{children:[" ",t+1," "]}),e.jsx("td",{children:s.title}),e.jsx("td",{children:s.author}),e.jsx("td",{children:s.isbn}),e.jsx("td",{children:s.peminjam}),e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:()=>n(s.id),children:"Confirm"})})]},t+3294823))})]})})})}function w({data:a}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"text-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Author"}),e.jsx("th",{children:"ISBN"}),e.jsx("th",{children:"Peminjam"})]})}),e.jsx("tbody",{children:a.map((n,s)=>e.jsxs("tr",{children:[e.jsxs("th",{children:[" ",s+1," "]}),e.jsx("td",{children:n.title}),e.jsx("td",{children:n.author}),e.jsx("td",{children:n.isbn}),e.jsx("td",{children:n.peminjam})]},s+3294823))})]})})})}function y({data:a}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"text-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Author"}),e.jsx("th",{children:"ISBN"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:a.map((n,s)=>e.jsxs("tr",{children:[e.jsxs("th",{children:[" ",s+1," "]}),e.jsx("td",{children:n.title}),e.jsx("td",{children:n.author}),e.jsx("td",{children:n.isbn}),e.jsxs("td",{children:[e.jsx(d,{as:"button",type:"button",href:route("editbuku"),data:{id:n.id},method:"get",children:"Edit"})," | ",e.jsx(d,{type:"button",as:"button",href:route("deletebuku"),data:{id:n.id},method:"delete",children:"Delete"})]})]},s+3294823))})]})})})}function T(a){const[n,s]=h.useState(!1);h.useEffect(()=>{m(a.flash.message)},[]);const{data:t,setData:r,post:c,processing:o,reset:x}=u({title:"",author:"",isbn:"",peminjam:"-"}),m=i=>{i&&(s(!0),setTimeout(()=>{s(!1)},2e3))},j=i=>{i.preventDefault(),c(route("storeBook"),{onSuccess:()=>{x(),document.getElementById("create_modal").close()}})};return e.jsx(e.Fragment,{children:e.jsxs(g,{user:a.auth.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Dashboard"}),children:[e.jsx(b,{title:"Dashboard"}),n&&e.jsxs("div",{role:"alert",className:"alert alert-success text-white w-96 toast toast-center toast-top",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:a.flash.message})]}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("button",{className:"btn bg-white text-gray-800 hover:bg-gray-800 hover:text-white",onClick:()=>document.getElementById("create_modal").showModal(),children:"Create Data"}),e.jsx("dialog",{id:"create_modal",className:"modal",children:e.jsxs("div",{className:"modal-box max-w-5xl bg-white text-gray-800",children:[e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-4 top-2 mt-1",children:"âœ•"})}),e.jsx("h3",{className:"font-bold text-xl mb-4 text-center",children:"Create Data"}),e.jsxs("form",{method:"post",onSubmit:j,className:"w-full",children:[e.jsx("input",{type:"hidden",name:"peminjam",value:t.peminjam}),e.jsxs("label",{className:"input input-bordered flex bg-white my-2 items-center gap-2",children:["Title",e.jsx("input",{type:"text",className:"grow",placeholder:"Book Title",onChange:i=>r("title",i.target.value),value:t.title})]}),e.jsxs("label",{className:"input input-bordered flex bg-white my-2 items-center gap-2",children:["Author",e.jsx("input",{type:"text",className:"grow",placeholder:"Book Author",onChange:i=>r("author",i.target.value),value:t.author})]}),e.jsxs("label",{className:"input input-bordered flex bg-white my-2 items-center gap-2",children:["ISBN",e.jsx("input",{type:"text",className:"grow",placeholder:"ISBN",onChange:i=>r("isbn",i.target.value),value:t.isbn})]}),e.jsx("button",{className:"btn bg-gray-800 text-white my-4 mx-1 hover:text-gray-800 hover:bg-white",type:"submit",disabled:o,children:"Submit"})]})]})}),e.jsx("div",{className:"bg-white mt-4 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("h2",{className:"text-center text-xl font-bold",children:"Buku yang Tersedia"}),e.jsx(y,{data:a.book_tersedia.data}),e.jsx(p,{data:a.book_tersedia})]})}),e.jsx("br",{}),e.jsx("hr",{}),e.jsx("div",{className:"bg-white mt-4 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("h2",{className:"text-center text-xl font-bold",children:"Buku Terpinjam"}),e.jsx(w,{data:a.book_dipinjam})]})}),e.jsx("br",{}),e.jsx("hr",{}),e.jsx("div",{className:"bg-white mt-4 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("h2",{className:"text-center text-xl font-bold",children:"Konfirmasi Peminjaman Buku"}),e.jsx(N,{data:a.book_k_pinjam})]})}),e.jsx("br",{}),e.jsx("hr",{}),e.jsx("div",{className:"bg-white mt-4 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("h2",{className:"text-center text-xl font-bold",children:"Konfirmasi Pengembalian Buku"}),e.jsx(f,{data:a.book_k_pengembalian})]})})]})})]})})}export{T as default};
