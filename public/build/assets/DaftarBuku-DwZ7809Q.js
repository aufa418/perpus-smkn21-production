import{q as p,r as l,j as e,y as b}from"./app-B-rZBD87.js";import{A as g}from"./AuthenticatedLayout-vVCfYaR3.js";import{P as f}from"./Paginator-D8d3uPJN.js";import"./Navbar-BpKXBSnJ.js";const y=()=>{var i,o;const{props:t}=p();console.log(t);const[n,c]=l.useState(""),[h,x]=l.useState(((i=t.book_tersedia)==null?void 0:i.data)||[]);l.useEffect(()=>{var a;x(((a=t.book_tersedia)==null?void 0:a.data)||[])},[(o=t.book_tersedia)==null?void 0:o.data]);const m=async(a,r)=>{r.preventDefault();const s=route("pinjambuku",a);b.post(s)},j=(a,r)=>e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"text-gray-800 font-medium",children:e.jsxs("tr",{children:[e.jsx("th",{children:"No"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Author"}),e.jsx("th",{children:"ISBN"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:a.filter(s=>r.toLowerCase()===""?s:s.title.toLowerCase().includes(r)).map((s,d)=>e.jsxs("tr",{children:[e.jsx("th",{children:d+1}),e.jsx("td",{children:s.title}),e.jsx("td",{children:s.author}),e.jsx("td",{children:s.isbn}),e.jsx("td",{children:e.jsx("button",{type:"submit",onClick:u=>m(s.id,u),children:"Pinjam"})})]},d+2348))})]})})})});return e.jsxs(g,{user:t.auth.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Daftar Buku"}),children:[t.flash.message&&e.jsx("div",{role:"alert",className:"alert bg-slate-800 text-white toast toast-top toast-center flex-row w-96",children:e.jsx("span",{children:t.flash.message})}),"s",e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("label",{className:"input input-bordered flex items-center gap-2 bg-white p-8 w-3/5",children:[e.jsx("input",{onChange:a=>c(a.target.value),type:"text",className:"grow text-slate-800",placeholder:"Search"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 opacity-70",children:e.jsx("path",{fillRule:"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z",clipRule:"evenodd"})})]}),e.jsx("div",{className:"bg-white mt-4 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("h2",{className:"text-center text-xl font-bold",children:"Buku yang Tersedia"}),e.jsx("hr",{}),j(h,n),t.book_tersedia&&t.book_tersedia.meta&&e.jsx(f,{data:t.book_tersedia})]})})]})})]})};export{y as default};
